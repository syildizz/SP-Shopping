@model UserPageDto

@{
    ViewData["Title"] = "UserPage";
}

<h1>User info:</h1>
<p>Name = @Model.UserName</p>
<p>Email = @Model.Email</p>

<h2>Products</h2>
@if (Model.ProductDetails is not null)
{
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(15em, 1fr)); gap: 0.5em; grid-auto-rows: 1fr;">
    @foreach (var product in Model.ProductDetails)
    {
    <a asp-controller="Products" asp-action="Details" asp-route-Id="@product.Id" style="text-decoration: none; color: inherit;">
    <dl class="border border-primary p-2">
        <dt>@Html.DisplayNameForInnerType((UserPageDto.UserPageProductDto p) => p.Name)</dt>
        <dd>@product.Name</dd>
        <dt>@Html.DisplayNameForInnerType((UserPageDto.UserPageProductDto p) => p.Price)</dt>
        <dd>@product.Price</dd>
        <dt>@Html.DisplayNameForInnerType((UserPageDto.UserPageProductDto p) => p.CategoryName)</dt>
        <dd>@product.CategoryName</dd>
    </dl>
    </a>
    }
    </div>
}
